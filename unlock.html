<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Unlock Our Secret</title>
<style>
  /* Simple romantic styling */
  body {
    margin: 0;
    min-height: 100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    background: linear-gradient(135deg,#ffdde1,#ee9ca7);
    font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Quicksand", sans-serif;
    color: #222;
    padding: 20px;
  }
  .card{
    width:100%;
    max-width:420px;
    background: rgba(255,255,255,0.18);
    backdrop-filter: blur(8px);
    border-radius:16px;
    padding:22px;
    box-shadow:0 12px 40px rgba(0,0,0,0.18);
    color: #fff;
  }
  h2 { text-align:center; margin:0 0 12px; font-size:1.6rem; text-shadow:0 1px 8px rgba(255,255,255,0.08); }
  label{ display:block; margin:14px 0 6px; font-size:0.95rem; opacity:0.95; text-align:left; }
  .row { display:flex; gap:8px; align-items:center; }
  input.date-input {
    width:100%;
    padding:10px 12px;
    border-radius:10px;
    border:none;
    font-size:1rem;
    text-align:center;
    background: rgba(255,255,255,0.06);
    color: #fff;
  }
  input.date-input::placeholder{ color: rgba(255,255,255,0.6); }
  .error { color:#ffd7db; font-size:0.85rem; min-height:20px; margin-top:6px; }
  .btn {
    margin-top:16px;
    width:100%;
    padding:12px;
    border-radius:12px;
    border:none;
    background:#ff5f7e;
    color:#fff;
    font-weight:700;
    cursor:pointer;
  }
  .hint-btn { margin-top:10px; display:none; width:100%; padding:10px; border-radius:10px; border:none; background:#fff; color:#ff2e63; font-weight:700; cursor:pointer; }
  /* modal */
  .modal { position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(0,0,0,0.6); z-index:999; padding:20px; }
  .modal.show { display:flex; }
  .modal-card { background:#fff; color:#222; border-radius:12px; padding:18px; max-width:420px; width:100%; box-shadow:0 10px 30px rgba(0,0,0,0.25); }
  .modal-card input{ width:100%; padding:10px; margin-top:10px; border-radius:8px; border:1px solid #ddd; }
  .modal-card button{ margin-top:12px; width:100%; padding:10px; border-radius:8px; border:none; background:#ff2e63; color:#fff; font-weight:700; cursor:pointer; }
  .small { font-size:0.9rem; color:#444; margin-top:8px; }
</style>
</head>
<body>

<div class="card" role="main" aria-labelledby="title">
  <h2 id="title">üîí Unlock Our Secret</h2>

  <form id="unlockForm" autocomplete="off" novalidate>
    <label for="anniversary">Our Anniversary üíç</label>
    <input id="anniversary" class="date-input" inputmode="numeric" placeholder="dd/mm/yyyy" maxlength="10" />

    <div class="error" id="errAnn"></div>

    <label for="kiss">Our First Kiss üíã</label>
    <input id="kiss" class="date-input" inputmode="numeric" placeholder="dd/mm/yyyy" maxlength="10" />
    <div class="error" id="errKiss"></div>

    <label for="hug">Our First Hug ü§ó</label>
    <input id="hug" class="date-input" inputmode="numeric" placeholder="dd/mm/yyyy" maxlength="10" />
    <div class="error" id="errHug"></div>

    <button class="btn" type="submit">Unlock</button>
  </form>

  <button id="hintBtn" class="hint-btn">Need a Hint? üëÄ</button>
</div>

<!-- Hint modal -->
<div class="modal" id="hintModal" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="modal-card">
    <div style="font-weight:700">Answer this first</div>
    <div class="small">What is one thing I do that turns you on the most?</div>
    <input id="turnOnAnswer" placeholder="Write your answer..." />
    <button id="submitAnswer">Submit & Show Hint</button>
    <div id="hintText" class="small" style="display:none; color:#e63a5a; font-weight:700; margin-top:10px;">
      Hint: It's hidden somewhere in our chat üí¨
    </div>
    <div style="margin-top:8px;"><button id="closeHint" style="margin-top:12px;width:100%;padding:10px;border-radius:8px;border:1px solid #ddd;background:#fff;">Close</button></div>
  </div>
</div>

<script>
/* ====== CONFIG (your dates) ======
   We compare digits only: "ddmmyyyy"
*/
const CORRECT = {
  anniversary: '11062025', // 11 June 2025
  kiss:        '29072024', // 29 July 2024
  hug:         '19022024'  // 19 Feb 2024
};

// helper: strip non-digits
function digitsOnly(s){ return (s||'').replace(/\D/g,''); }

// format digits to dd/mm/yyyy for display
function formatDateDigits(d){
  const dd = d.slice(0,2), mm = d.slice(2,4), yyyy = d.slice(4,8);
  if(d.length<5) return d;
  return `${dd}/${mm}/${yyyy}`;
}

/* ====== input masking: auto-insert slashes as user types/pastes ====== */
function setupDateMask(el){
  // prevent non-digit keystrokes except backspace/arrow
  el.addEventListener('keydown', (e) => {
    // allow control keys
    const ctrl = e.ctrlKey || e.metaKey;
    if (ctrl) return;
    // allow navigation & special keys
    const allowed = ['Backspace','ArrowLeft','ArrowRight','Tab','Delete'];
    if (allowed.includes(e.key)) return;
    // allow digits only
    if (!/^[0-9]$/.test(e.key)) e.preventDefault();
  });

  // handle input & paste
  el.addEventListener('input', (e) => {
    const raw = digitsOnly(el.value);
    let out = raw;
    if(raw.length>2) out = raw.slice(0,2) + '/' + raw.slice(2);
    if(raw.length>4) out = out.slice(0,5) + '/' + raw.slice(5);
    // limit to dd/mm/yyyy => max 10 chars
    el.value = out.slice(0,10);
  });

  // on blur, if user typed full digits, format (keeps slashes)
  el.addEventListener('blur', () => {
    const raw = digitsOnly(el.value);
    if(raw.length === 8){
      el.value = formatDateDigits(raw);
    }
  });
}

// wire masks
['anniversary','kiss','hug'].forEach(id => setupDateMask(document.getElementById(id)));

const form = document.getElementById('unlockForm');
const errAnn = document.getElementById('errAnn');
const errKiss = document.getElementById('errKiss');
const errHug = document.getElementById('errHug');
const hintBtn = document.getElementById('hintBtn');

const hintModal = document.getElementById('hintModal');
const submitAnswer = document.getElementById('submitAnswer');
const turnOnAnswer = document.getElementById('turnOnAnswer');
const hintText = document.getElementById('hintText');
const closeHint = document.getElementById('closeHint');

// helper to check equality of ddmmyyyy digits
function matches(expectedDigits, inputEl){
  const inputDigits = digitsOnly(inputEl.value);
  return inputDigits.length === 8 && inputDigits === expectedDigits;
}

/* Show hint button logic - called when anniversary & kiss correct but hug wrong */
function maybeShowHint(){
  const annOk = matches(CORRECT.anniversary, document.getElementById('anniversary'));
  const kissOk = matches(CORRECT.kiss, document.getElementById('kiss'));
  const hugOk = matches(CORRECT.hug, document.getElementById('hug'));
  if(annOk && kissOk && !hugOk){
    hintBtn.style.display = 'block';
  } else {
    hintBtn.style.display = 'none';
  }
}

/* Form submit */
form.addEventListener('submit', (ev) => {
  ev.preventDefault();
  // clear errors
  errAnn.textContent = '';
  errKiss.textContent = '';
  errHug.textContent = '';

  const annEl = document.getElementById('anniversary');
  const kissEl = document.getElementById('kiss');
  const hugEl = document.getElementById('hug');

  const annDigits = digitsOnly(annEl.value);
  const kissDigits = digitsOnly(kissEl.value);
  const hugDigits = digitsOnly(hugEl.value);

  let valid = true;

  if(!(annDigits.length === 8 && annDigits === CORRECT.anniversary)){
    errAnn.textContent = "Bubu‚Ä¶ how can you forget our anniversary? üò¢";
    valid = false;
  }
  if(!(kissDigits.length === 8 && kissDigits === CORRECT.kiss)){
    errKiss.textContent = "Tch tch‚Ä¶ did my kiss not fry your brain that day? ü§®";
    valid = false;
  }
  if(!(hugDigits.length === 8 && hugDigits === CORRECT.hug)){
    errHug.textContent = "Ohooo, first hug bhi bhool gayi? ü´¢";
    valid = false;
  }

  // show hint button when first two correct but hug wrong
  maybeShowHint();

  if(valid){
    // success -> redirect to secret.html
    // small success animation (optional) then redirect
    window.location.href = 'secret.html';
  }
});

/* Hint button opens modal */
hintBtn.addEventListener('click', () => {
  hintModal.classList.add('show');
  hintModal.setAttribute('aria-hidden','false');
});

/* Submit answer inside modal */
submitAnswer.addEventListener('click', () => {
  const text = (turnOnAnswer.value || '').trim();
  if(!text) {
    // small inline feedback
    turnOnAnswer.style.border = '1px solid #e63a5a';
    return;
  }
  localStorage.setItem('turnOnAnswer', text); // you can retrieve this later
  hintText.style.display = 'block';
  // keep modal open so she can read the hint; optionally hide input
  turnOnAnswer.value = '';
});

/* close hint modal */
closeHint.addEventListener('click', () => {
  hintModal.classList.remove('show');
  hintModal.setAttribute('aria-hidden','true');
});

/* click outside to close modal */
hintModal.addEventListener('click', (e) => {
  if(e.target === hintModal){
    hintModal.classList.remove('show');
    hintModal.setAttribute('aria-hidden','true');
  }
});

/* Real-time: show hint button if appropriate as she types */
['anniversary','kiss','hug'].forEach(id => {
  document.getElementById(id).addEventListener('input', maybeShowHint);
});

/* How you (Soham) can see what she wrote later:
   - Open browser devtools (Console) and run:
       localStorage.getItem('turnOnAnswer')
   - Or I can add a small "answers.html" for your eyes only to show that value.
*/

</script>
</body>
</html>