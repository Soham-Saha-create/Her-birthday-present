<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Your Rewards ✨</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Dancing+Script:wght@400;700&family=Great+Vibes&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg: #0b0c10;
      --accent: #f28b82;
      --paper: #fffaf0;
      --muted: #888;
    }
    html,body{height:100%;}
    body {
      margin: 0;
      font-family: 'Playfair Display', serif;
      background: radial-gradient(circle at top, #1c1c2b, #0b0c10);
      color: #fff;
      min-height: 100vh;
      padding: 40px 20px;
    }
    h1 {
      font-family: 'Dancing Script', cursive;
      font-size: 42px;
      text-align: center;
      margin-bottom: 40px;
      color: #fff;
      text-shadow: 0 0 12px rgba(255,255,255,0.5);
    }

    /* Polaroid Grid */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 28px;
      max-width: 1100px;
      margin: 0 auto;
    }
    .polaroid {
      background: var(--paper);
      padding: 12px 12px 28px 12px;
      border-radius: 6px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.4);
      transform: rotate(-2deg);
      cursor: pointer;
      transition: transform 0.18s ease;
      color: #000;
      text-align: center;
      user-select: none;
    }
    .polaroid:active { transform: scale(0.98) rotate(-2deg); }
    .polaroid:hover {
      transform: scale(1.05) rotate(0deg);
      z-index: 2;
    }
    .polaroid img, .polaroid .calligraphy-card {
      width: 100%;
      border-radius: 4px;
      margin-bottom: 12px;
      display: block;
    }
    .polaroid span {
      display: block;
      text-align: center;
      font-family: 'Dancing Script', cursive;
      font-size: 20px;
    }

    /* Calligraphy preview card */
    .calligraphy-card {
      width: 100%;
      min-height: 180px;
      background: url('https://www.transparenttextures.com/patterns/aged-paper.png');
      background-color: #fdf5e6;
      border-radius: 4px;
      padding: 18px;
      font-family: 'Great Vibes', cursive;
      font-size: 22px;
      color: #3b2f2f;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      box-sizing: border-box;
      margin-bottom: 12px;
      box-shadow: inset 0 0 12px rgba(0,0,0,0.12);
    }

    /* Modal styling */
    .modal {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.85);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 20px;
      z-index: 100;
    }
    .modal-content {
      background: var(--paper);
      color: #000;
      max-width: 700px;
      width: calc(100% - 40px);
      max-height: 80vh;       /* limit height to viewport */
      overflow-y: auto;      /* scroll if too long */
      padding: 24px;
      border-radius: 10px;
      position: center;
      text-align: center;
      box-sizing: border-box;
    }
    .modal-content h2 {
      font-family: 'Dancing Script', cursive;
      margin-top: 0;
      font-size: 28px;
    }
    .modal-content p { font-size: 16px; line-height: 1.6; margin: 0.5em 0; color: #333; }

    .close {
      position: absolute;
      top: 12px;
      right: 16px;
      font-size: 28px;
      cursor: pointer;
      color: #000;
      background: transparent;
      border: none;
      line-height: 1;
    }

    /* Poem / Letter area */
    .poem-text, .letter-text {
      white-space: pre-line;  /* preserves newlines entered in HTML */
      font-family: 'Great Vibes', cursive;
      font-size: 20px;
      line-height: 1.8;
      text-align: center;
      margin: 0 auto;
      padding: 14px;
      color: #3b2f2f;
      background: url('https://www.transparenttextures.com/patterns/aged-paper.png');
      background-color: #fdf5e6;
      border-radius: 8px;
      box-shadow: inset 0 0 8px rgba(0,0,0,0.06);
      max-width: 100%;
    }

    /* Album carousel (swipeable) */
    .carousel-wrapper {
      width: 100%;
      overflow: hidden;
      box-sizing: border-box;
    }
    .carousel {
      display: flex;
      gap: 16px;
      overflow-x: auto;
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch; /* smooth on iOS */
      padding-bottom: 12px;
      margin-top: 8px;
    }
    .carousel::-webkit-scrollbar{ height: 10px; }
    .carousel img {
      min-width: 80%;
      max-width: 640px;
      height: auto;
      border-radius: 8px;
      scroll-snap-align: center;
      box-shadow: 0 6px 18px rgba(0,0,0,0.25);
      object-fit: cover;
    }
    @media (min-width: 900px){
      .carousel img { min-width: 45%; }
    }

    /* Voucher image display */
    .voucher-img {
      width: 100%;
      max-width: 540px;
      height: auto;
      border-radius: 8px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.2);
      margin: 0 auto;
      display: block;
    }

    /* Final treasure */
    .final-treasure { margin-top: 60px; text-align: center; }
    .final-polaroid { background: var(--paper); display: inline-block; padding: 12px; border-radius: 6px; box-shadow: 0 8px 20px rgba(0,0,0,0.4); transform: rotate(1deg); max-width: 480px; position: relative; }
    .final-polaroid video { width: 100%; border-radius: 4px; background: #000; }
    .locked-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); display:flex; align-items:center; justify-content:center; font-size:22px; color:#fff; font-family:'Dancing Script',cursive; }

  </style>
</head>
<body>

  <h1>Your Rewards ✨</h1>

  <div class="grid">
    <!-- Poem -->
    <div class="polaroid" data-modal="modal1">
      <div class="calligraphy-card">A Poem Awaits You...</div>
      <span>Poem</span>
    </div>

    <!-- Playlist (Spotify iframe will go inside modal2) -->
    <div class="polaroid" data-modal="modal2">
      <img src="media/album/Spotify_App_Logo.jpg" alt="Playlist">
      <span>Playlist</span>
    </div>

    <!-- Album: will open modal3 with swipeable carousel -->
    <div class="polaroid" data-modal="modal3">
      <img src="media/album/albumcover.JPG" alt="Album">
      <span>Album</span>
    </div>

    <!-- Letter -->
    <div class="polaroid" data-modal="modal4">
      <div class="calligraphy-card">A Letter for You...</div>
      <span>Letter</span>
    </div>

    <!-- Voucher -->
    <div class="polaroid" data-modal="modal5">
      <img src="media/album/vouchercover.jpg" alt="Voucher">
      <span>Voucher</span>
    </div>
  </div>

  <!-- Modal: Poem -->
  <div id="modal1" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="poemTitle">
      <button class="close" aria-label="Close">&times;</button>
      <h2 id="poemTitle">The Passage of Time</h2>
      <div class="poem-text">

You were the quiet shelter I leaned on,
a shoulder carved from distance,
a comfort that came without promise,
yet never too far to vanish.
I mistook silence for indifference,
but even then—
your presence stitched my scattered nights.

Now, your yes has turned my world around.
No maps, no compasses—
I walk fearless, for your hand is enough.
You love me the way my heart has always begged to be loved—
sometimes softer than I deserve,
sometimes stronger than I can hold.
You are not just my girlfriend;
you are the echo of every prayer I never knew I prayed.

Soon, miles may stretch between us,
but let them.
For I don’t want us to fight distance,
I want us to hold hands across it.
Not enemies in arguments,
but teammates through storms.
Not just lovers in the sunlight,
but anchors in the darkest seas.
With you, I want every hurdle to be an "us,"
every tomorrow to be a promise,
and forever—
not just a word,
but the story we never stop writing.
      </div>
    </div>
  </div>

  <!-- Modal: Playlist (replace iframe src with your Spotify embed) -->
  <div id="modal2" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="playlistTitle">
      <button class="close" aria-label="Close">&times;</button>
      <h2 id="playlistTitle">Playlist</h2>
      <p style="color:#555;margin-bottom:12px"> Redirecting to Spotify...</p>
      <div id="spotify-placeholder" style="max-width:100%;overflow:hidden;">
        <!-- ==== REPLACE THIS IFRAME WITH YOUR SPOTIFY EMBED ==== -->
        <iframe style="border-radius:12px"
                src="https://open.spotify.com/playlist/2xRmnQT8lUyQviA49lJuus?si=kpmGD5yES3mOfPutAt5zgA"
                width="100%" height="380" frameborder="0"
                allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
                loading="lazy"></iframe>
      </div>
    </div>
  </div>

  <!-- Modal: Album (swipeable; replace the srcs with your 5 jpgs) -->
  <div id="modal3" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="albumTitle">
      <button class="close" aria-label="Close">&times;</button>
      <h2 id="albumTitle">Album</h2>
      <p style="color:#555;margin-bottom:8px">Swipe left/right (or drag) to browse.</p>

      <div class="carousel-wrapper">
        <div class="carousel" id="albumCarousel">
          <!-- Replace these five placeholders with your actual album images (JPG/PNG). Use full or relative URLs. -->
          <img src="media/album/photo1.jpeg" alt="Album image 1">
          <img src="media/album/photo2.jpeg" alt="Album image 2">
          <img src="media/album/photo3.jpeg" alt="Album image 3">
          <img src="media/album/photo4.jpeg" alt="Album image 4">
          <img src="media/album/photo5.jpeg" alt="Album image 5">
        </div>
      </div>
      <p style="font-size:13px;color:#666;margin-top:10px">Tip: on desktop you can also click an image to open it in a new tab for full view.</p>
    </div>
  </div>

  <!-- Modal: Letter -->
  <div id="modal4" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="letterTitle">
      <button class="close" aria-label="Close">&times;</button>
      <h2 id="letterTitle">Letter</h2>
      <div class="letter-text">
My Love,
This is the final letter that you will read after all this. You are probably bored at this point that you have to read all this stuff because someone decided to keep on adding more and more stuff to this page. If u are asking why I created this rewards page in the first place, remember the time table I gave you? you followed it for exactly 5 days and this page contains 5 rewards if you look at it. Excluding the Video Of course. So after all this I would ask you just one question — Do you love even a little more after seeing all this? Because if you do than more than 7000 lines of code, sleepless nights fixing bugs, and 4+ months of work on this entire project – it's all worth it baby. If you loved it even a Lil, js kiss me irl and that's all I want. I didn't create this so that I could ask for smt but ig I did. ichaa korle js kiss me okay? I LOVE YOU SOOOO MUCH. MWAHHHHHH...
Always yours,
— MOTA
      </div>
    </div>
  </div>

  <!-- Modal: Voucher (replace src with your voucher JPG) -->
  <div id="modal5" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="voucherTitle">
      <button class="close" aria-label="Close">&times;</button>
      <h2 id="voucherTitle">Voucher</h2>
      <p style="color:#555;margin-bottom:12px">THIS IS FOR YOU WIFEY</p>
      <img id="voucherImage" class="voucher-img" src="media/album/voucher.jpg" alt="Voucher image">
    </div>
  </div>

  <!-- Final Treasure -->
  <div class="final-treasure">
    <h2 style="font-family:'Dancing Script',cursive;font-size:32px;margin-bottom:20px;">The Final Treasure 🎥</h2>
    <div class="final-polaroid">
      <video controls>
        <source src="https://drive.google.com/file/d/1g82p4R3mDdrQJ2J81GaoYlTRYMybvIPy/preview" type="video/mp4">
        Your browser does not support the video tag.
      </video>
      
    </div>
  </div>

  <script>
    // Modal logic (open / close / outside click / Esc)
    const polaroids = document.querySelectorAll('.polaroid');
    const modals = document.querySelectorAll('.modal');
    const closes = document.querySelectorAll('.close');

    polaroids.forEach(p => {
      p.addEventListener('click', () => {
        const modalId = p.getAttribute('data-modal');
        const node = document.getElementById(modalId);
        if (node) {
          node.style.display = 'flex';
          node.setAttribute('aria-hidden', 'false');
          // focus for accessibility
          const closeBtn = node.querySelector('.close');
          if (closeBtn) closeBtn.focus();
        }
      });
    });

    closes.forEach(c => {
      c.addEventListener('click', (ev) => {
        const modal = ev.target.closest('.modal');
        if (modal) {
          modal.style.display = 'none';
          modal.setAttribute('aria-hidden', 'true');
        }
      });
    });

    window.addEventListener('click', (e) => {
      if (e.target.classList.contains('modal')) {
        e.target.style.display = 'none';
        e.target.setAttribute('aria-hidden', 'true');
      }
    });

    window.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        modals.forEach(m => { m.style.display = 'none'; m.setAttribute('aria-hidden','true'); });
      }
    });

    // Allow clicking an album image to open it in a new tab (for full view)
    document.getElementById('albumCarousel').addEventListener('click', (ev) => {
      const img = ev.target.closest('img');
      if (img) {
        window.open(img.src, '_blank');
      }
    });

    // OPTIONAL: if you want to dynamically update voucher preview via file input in future,
    // you could add an <input type="file"> and hook it to the #voucherImage.src with FileReader.
  </script>
</body>
</html>
