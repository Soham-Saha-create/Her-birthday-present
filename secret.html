<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>— Sanctuary —</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Quicksand:wght@300;400;700&display=swap" rel="stylesheet">
<style>
  :root{
    --bg-1:#060407;
    --bg-2:#1a0814;
    --crimson:#c44b67;
    --glass: rgba(18,12,15,0.55);
    --glass-2: rgba(255,255,255,0.03);
    --muted: #bfb1b8;
  }

  html,body{height:100%;margin:0;font-family:"Quicksand",system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",sans-serif;background:linear-gradient(160deg,var(--bg-1) 0%, #12030b 40%, #2b0a2f 100%);color:var(--muted);-webkit-font-smoothing:antialiased;overflow:hidden}

  /* subtle parchment / lace texture using SVG data URI (low opacity) */
  body::before{
    content:"";
    position:fixed;inset:0;
    background-image: url("data:image/svg+xml;utf8,\
      <svg xmlns='http://www.w3.org/2000/svg' width='800' height='600' viewBox='0 0 800 600'>\
      <defs><linearGradient id='g' x1='0' x2='1'><stop offset='0' stop-color='%23ffffff' stop-opacity='0.02'/><stop offset='1' stop-color='%23ffffff' stop-opacity='0.00'/></linearGradient></defs>\
      <rect width='800' height='600' fill='url(%23g)'/>\
      <path d='M0 40 C120 80 240 0 360 40 C480 80 600 0 720 40 L800 40 L800 0 L0 0 Z' fill='%23ffffff' fill-opacity='0.01'/>\
      </svg>");
    background-repeat: repeat;
    opacity:0.5;
    pointer-events:none;
    mix-blend-mode:overlay;
    z-index:0;
  }

  /* slow drifting smoke layers */
  .smoke, .smoke2 {
    position:fixed; inset:-20% -10% -20% -10%;
    pointer-events:none; z-index:1;
  }
  .smoke svg, .smoke2 svg{ width:120%; height:120%; opacity:0.06; filter:blur(24px); transform-origin:center; }
  .smoke svg { animation: driftA 28s linear infinite; }
  .smoke2 svg { animation: driftB 38s linear infinite; opacity:0.04 }

  @keyframes driftA { 0%{transform:translateY(0) scale(1)} 50%{transform:translateY(-6%) scale(1.05)} 100%{transform:translateY(0) scale(1)} }
  @keyframes driftB { 0%{transform:translateY(0) scale(1)} 50%{transform:translateY(8%) scale(1.02)} 100%{transform:translateY(0) scale(1)} }

  /* falling petals container (z-index 6) */
  .petal-wrap { position:fixed; inset:0; pointer-events:none; z-index:6; overflow:hidden }

  /* central layout */
  .stage {
    position:relative; z-index:5; width:100%; height:100%; display:flex; align-items:center; justify-content:center; padding:40px 20px; box-sizing:border-box;
  }

  /* glass card */
  .card {
    width:100%; max-width:980px; min-height:420px;
    background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
    border-radius:16px;
    border:1px solid rgba(255,255,255,0.04);
    box-shadow: 0 30px 80px rgba(0,0,0,0.7), inset 0 1px 0 rgba(255,255,255,0.02);
    backdrop-filter: blur(8px) saturate(1.2);
    display:flex; gap:24px; padding:30px; box-sizing:border-box; align-items:stretch;
    overflow:hidden;
  }

  /* left art column */
  .art {
    width:38%; min-width:260px; display:flex; align-items:center; justify-content:center; position:relative;
  }

  /* right content column */
  .content {
    width:62%; padding:6px 4px; display:flex; flex-direction:column; justify-content:center; position:relative;
  }

  /* heading - name and small subtitle */
  .title {
    font-family:'Playfair Display', serif;
    color:var(--crimson); font-size:34px; margin:0 0 6px;
    letter-spacing:0.6px; text-shadow:0 6px 28px rgba(193,71,97,0.08);
  }
  .subtitle { color:#caa3ad; font-size:14px; margin-bottom:18px; }

  /* letter box */
  .letter {
    background: linear-gradient(180deg, rgba(0,0,0,0.12), rgba(255,255,255,0.02));
    border-radius:10px; padding:18px; color:#e9dfe3; line-height:1.6; font-size:16px; box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    max-height:320px; overflow:auto;
  }
  .letter p{ margin:0 0 12px; opacity:0; transform:translateY(10px); transition: all 420ms cubic-bezier(.2,.9,.2,1); }
  .letter p.visible{ opacity:1; transform:translateY(0); }

  /* rose decorations (SVGs) */
  .rose {
    width:160px; height:160px; transform-origin:center; transition:transform .5s ease;
  }
  .rose-wrap { position:absolute; left:12px; top:12px; display:flex; gap:18px; flex-direction:column; align-items:flex-start; z-index:7 }
  .rose-wrap .rose-spot { cursor:pointer; opacity:0.95; transition:all .25s ease; }
  .rose-wrap .rose-spot:hover{ transform:translateY(-6px) scale(1.03); filter:drop-shadow(0 8px 24px rgba(200,60,90,0.12)) }

  /* tooltip quote */
  .tooltip {
    position: absolute; left:200px; top:20px; background:rgba(0,0,0,0.6); border-radius:8px; padding:10px 12px; color:#ffdfe6; font-weight:600; font-size:13px;
    box-shadow:0 10px 28px rgba(0,0,0,0.6); opacity:0; transform:translateY(6px); transition:all .18s ease; pointer-events:none;
  }
  .rose-spot:hover + .tooltip{ opacity:1; transform:translateY(0) }

  /* moon easter egg (top right) */
  .moon {
    position:absolute; right:28px; top:20px; z-index:9; width:56px; height:56px; border-radius:50%; background:radial-gradient(circle at 35% 30%, #fff4e5, #ffe6d1 20%, rgba(255,255,255,0.02) 40%); box-shadow:0 6px 30px rgba(200,80,120,0.08), 0 0 20px rgba(200,80,120,0.06); display:flex; align-items:center; justify-content:center; cursor:pointer; transform:translateZ(0);
  }
  .moon::after{ content:""; position:absolute; right:8px; top:8px; width:10px; height:10px; border-radius:50%; background:rgba(0,0,0,0.06) }
  .moon.pulse{ animation:moonPulse 2.2s ease-in-out infinite; }
  @keyframes moonPulse{ 0%{ transform:scale(0.98) } 50%{ transform:scale(1.06) } 100%{ transform:scale(0.98) } }

  /* cursor glow */
  body.custom-cursor *{ cursor:none !important; }
  .cursor {
    position:fixed; left:0; top:0; width:18px; height:18px; border-radius:50%; pointer-events:none; z-index:9999;
    transform:translate(-50%,-50%); mix-blend-mode:screen;
    background:radial-gradient(circle at 30% 30%, rgba(255,160,180,0.95), rgba(220,100,150,0.18) 35%, rgba(220,100,150,0.06) 60%);
    box-shadow:0 0 28px rgba(220,100,150,0.14), 0 0 120px rgba(200,60,90,0.04);
  }

  /* audio control */
  .audio-control {
    position:absolute; left:22px; bottom:18px; z-index:9; display:flex; gap:8px; align-items:center;
  }
  .audio-btn { background:rgba(255,255,255,0.06); border-radius:10px; padding:8px 12px; border:1px solid rgba(255,255,255,0.03); color:var(--muted); cursor:pointer }

  /* modal reveal - secret */
  .secret-modal { position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:9998; background:linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.6)); }
  .secret-modal.show { display:flex; }
  .secret-inner { background:#0f0b0d; border-radius:14px; padding:26px; max-width:720px; width:92%; color:#fef7f8; box-shadow:0 30px 80px rgba(0,0,0,0.7); text-align:center }
  .secret-inner h2{ color:var(--crimson); margin:0 0 8px }

  /* responsive */
  @media (max-width:900px){
    .card { flex-direction:column; min-height:520px; padding:20px; }
    .art, .content { width:100% }
    .art { order:2; }
    .rose-wrap { position:relative; left:0; top:0; flex-direction:row; gap:10px; justify-content:center; margin-bottom:12px }
    .tooltip {display:none}
  }
</style>
</head>
<body>

  <!-- smoke layers -->
  <div class="smoke" aria-hidden="true">
    <svg viewBox="0 0 1200 700" preserveAspectRatio="xMidYMid slice" xmlns="http://www.w3.org/2000/svg">
      <g fill="#c95a78"><ellipse cx="600" cy="350" rx="450" ry="180"/></g>
    </svg>
  </div>
  <div class="smoke2" aria-hidden="true">
    <svg viewBox="0 0 1200 700" preserveAspectRatio="xMidYMid slice" xmlns="http://www.w3.org/2000/svg">
      <g fill="#8b2846"><ellipse cx="600" cy="380" rx="420" ry="160"/></g>
    </svg>
  </div>

  <div class="petal-wrap" aria-hidden="true"></div>

  <div class="stage">
    <div class="card" role="region" aria-label="Secret sanctuary">
      <!-- left art -->
      <div class="art" aria-hidden="true">
        <div class="rose-wrap" id="roseWrap">
          <!-- clickable rose spots -->
          <div style="position:relative">
            <div class="rose-spot" data-quote="Remember when we rode until sunrise?"><svg class="rose" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="rg" x1="0" x2="1"><stop offset="0" stop-color="#ff9bb4"/><stop offset="1" stop-color="#8b2846"/></linearGradient></defs><g fill="url(#rg)"><path d="M32 6c-3 0-6 2-8 5-6 0-11 5-11 11 0 5 4 10 10 11 0 6 8 10 8 10s8-4 8-10c6-1 10-6 10-11 0-6-5-11-11-11-2-3-4-5-7-5z"/></g></svg></div>
            <div class="tooltip" style="left:110px; top:6px">Ride with me again.</div>
          </div>

          <div style="position:relative">
            <div class="rose-spot" data-quote="You laughed and I learned how to stay."><svg class="rose" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><use href="#roseSVG"></use></svg></div>
            <div class="tooltip" style="left:110px; top:84px">Your laugh is my map.</div>
          </div>

          <div style="position:relative">
            <div class="rose-spot" data-quote="Quiet nights with your head on my chest."><svg class="rose" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><use href="#roseSVG"></use></svg></div>
            <div class="tooltip" style="left:110px; top:162px">Stay a little longer.</div>
          </div>
        </div>
      </div>

      <!-- right content -->
      <div class="content">
        <div style="position:relative">
          <div class="moon pulse" id="moon" title="Open for a surprise" aria-hidden="false" role="button" tabindex="0"></div>
          <div class="audio-control" aria-hidden="true">
            <button class="audio-btn" id="audioToggle">▶ Play ambience</button>
          </div>
        </div>

        <h3 class="title">For Chandu</h3>
        <div class="subtitle">A small chamber of shadows where I keep the things I cannot say aloud.</div>

        <div class="letter" id="letter">
          <!-- paragraphs will be injected and revealed -->
          <p data-step="1">You found the door. Few do. This is a place I built when the world was too bright — a pocket to hold a softer dark, and your name at its center.</p>
          <p data-step="2">I kept the quiet things here: the scratches of your laugh, the way your breath changed the room, the small chances you gave me without knowing.</p>
          <p data-step="3">I don't promise forever like it is a calendar — I promise the next small thing. I promise to return when you need me most. I promise a thousand tiny mornings that belong to you.</p>
          <p data-step="4">If you ever feel lost in daylight, come back here. Close your eyes and remember my hands: won't let go.</p>
        </div>

      </div>

    </div>
  </div>

  <!-- secret modal -->
  <div class="secret-modal" id="secretModal" aria-hidden="true">
    <div class="secret-inner" role="dialog" aria-modal="true" aria-labelledby="secretTitle">
      <h2 id="secretTitle">A hidden thing</h2>
      <p id="secretText" style="color:#f7e8ec; margin-top:8px">This is a private little extra I kept for you — write your custom reveal here. You can replace this with an audio, a photo, or a tiny video.</p>
      <div style="margin-top:14px; display:flex; gap:8px; justify-content:center">
        <button id="closeSecret" style="padding:10px 14px;border-radius:10px;border:none;background:#fff;color:#000;font-weight:700">Close</button>
      </div>
    </div>
  </div>

  <!-- custom cursor -->
  <div class="cursor" id="cursor" aria-hidden="true"></div>

  <!-- ambient audio (optional) -->
  <audio id="bgAudio" loop src="media/secret/ambient.mp3"></audio>

<script>
/* ----------------------
  Helper & interactive JS
   - typewriter reveal lines sequentially
   - falling petals generator
   - hover tooltips already in DOM (appear via CSS)
   - moon easter-egg opens secret modal
   - custom cursor movement
   - audio toggle
------------------------*/

document.addEventListener('DOMContentLoaded', () => {
  // Paragraph reveal (typewriter-like fade in each paragraph sequentially)
  const paragraphs = Array.from(document.querySelectorAll('#letter p'));
  let idx=0;
  function revealNext(){
    if(idx >= paragraphs.length) return;
    const p = paragraphs[idx];
    // simple character-by-character typewriter inside p
    const full = p.textContent;
    p.textContent = '';
    p.classList.remove('visible');
    let i=0;
    const speed = 18 + (idx*6); // slightly different speed for drama
    const t = setInterval(()=> {
      p.textContent += full.charAt(i);
      i++;
      if(i>=full.length){
        clearInterval(t);
        p.classList.add('visible');
        idx++;
        setTimeout(revealNext, 420);
      }
    }, speed);
  }
  // Start after small fade
  setTimeout(revealNext, 800);

  // Falling petals generator
  const petalWrap = document.querySelector('.petal-wrap');
  function spawnPetal(){
    const el = document.createElement('div');
    const size = (8 + Math.random()*18) | 0;
    el.style.position='absolute';
    el.style.left = (Math.random()*110) + '%';
    el.style.top  = '-8%';
    el.style.width = size+'px';
    el.style.height = (size*1.4)+'px';
    el.style.background = 'radial-gradient(circle at 30% 30%, rgba(255,200,210,0.95), rgba(180,80,120,0.9))';
    el.style.borderRadius = '50% 50% 60% 60% / 40% 40% 60% 60%';
    el.style.opacity = (0.5 + Math.random()*0.6);
    el.style.transform = 'rotate('+(Math.random()*360)+'deg)';
    el.style.pointerEvents = 'none';
    el.style.filter = 'blur(0.6px) drop-shadow(0 6px 12px rgba(200,60,90,0.06))';
    petalWrap.appendChild(el);

    // animate falling
    const duration = 5500 + Math.random()*6400;
    const destX = (Math.random()*220 - 110);
    const start = performance.now();
    function frame(now){
      const t = Math.min(1, (now-start)/duration);
      const ease = t<.5 ? 2*t*t : -1 + (4-2*t)*t; // approximate ease
      el.style.top = (ease*120) + '%';
      el.style.left = `calc(${parseFloat(el.style.left) + destX*ease}% )`;
      el.style.transform = 'rotate('+(ease*720)+'deg)';
      el.style.opacity = String(1 - t*0.6);
      if(t<1) requestAnimationFrame(frame); else el.remove();
    }
    requestAnimationFrame(frame);
  }
  // spawn periodically
  const petalTimer = setInterval(() => { if(Math.random()<0.6) spawnPetal(); }, 900);

  // Rose tooltip dynamic content (we already placed tooltips next to spots)
  document.querySelectorAll('.rose-spot').forEach(spot => {
    spot.addEventListener('click', () => {
      const quote = spot.dataset.quote || "I keep this memory warm.";
      // show the secret modal's text briefly as an extra intimate action
      const secretModal = document.getElementById('secretModal');
      const secretText = document.getElementById('secretText');
      secretText.textContent = quote;
      secretModal.classList.add('show');
    });
  });

  // moon easter egg
  const moon = document.getElementById('moon');
  const secretModal = document.getElementById('secretModal');
  const closeSecret = document.getElementById('closeSecret');
  moon.addEventListener('click', openSecret);
  moon.addEventListener('keydown', (e)=>{ if(e.key === 'Enter') openSecret(); });

  function openSecret(){
    secretModal.classList.add('show');
    // small pulse effect
    moon.classList.add('pulse');
    // optional: add soft heartbeat bass effect (not provided)
  }
  closeSecret.addEventListener('click', ()=> secretModal.classList.remove('show'));
  secretModal.addEventListener('click', (e)=> { if(e.target === secretModal) secretModal.classList.remove('show'); });

  // custom cursor
  const cursor = document.getElementById('cursor');
  document.body.classList.add('custom-cursor');
  document.addEventListener('mousemove', (e) => {
    cursor.style.left = e.clientX + 'px';
    cursor.style.top  = e.clientY + 'px';
  });

  // audio control
  const bgAudio = document.getElementById('bgAudio');
  const audioToggle = document.getElementById('audioToggle');
  audioToggle.addEventListener('click', () => {
    if(bgAudio.paused){
      bgAudio.play().catch(()=>{/* auto-play may be blocked */});
      audioToggle.textContent = '🔊 Ambience on';
      audioToggle.style.background = 'linear-gradient(90deg,#39021b,#631227)';
      audioToggle.style.color = '#fff';
    } else {
      bgAudio.pause();
      audioToggle.textContent = '▶ Play ambience';
      audioToggle.style.background = '';
      audioToggle.style.color = 'var(--muted)';
    }
  });

  // accessibility: close modal with Esc
  document.addEventListener('keydown', (e) => {
    if(e.key === 'Escape') secretModal.classList.remove('show');
  });

  // small decorative motion for roses
  setInterval(()=> {
    document.querySelectorAll('.rose-spot').forEach((r,i) => {
      r.style.transform = `translateY(${Math.sin(Date.now()/1400 + i)*4}px) rotate(${Math.sin(Date.now()/1700 + i)*2}deg)`;
    });
  }, 60);

  // stop animations when not visible (optional)
  document.addEventListener('visibilitychange', () => {
    if(document.hidden){ clearInterval(petalTimer); } // gentle stop
  });

}); // DOMContentLoaded
</script>

<!-- embedded simple rose symbol reference (for reuse) -->
<svg style="display:none" xmlns="http://www.w3.org/2000/svg"><symbol id="roseSVG" viewBox="0 0 64 64"><path d="M32 6c-3 0-6 2-8 5-6 0-11 5-11 11 0 5 4 10 10 11 0 6 8 10 8 10s8-4 8-10c6-1 10-6 10-11 0-6-5-11-11-11-2-3-4-5-7-5z" fill="#c94f7c"/></symbol></svg>

</body>
</html>